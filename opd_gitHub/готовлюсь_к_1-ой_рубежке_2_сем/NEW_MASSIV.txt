

START:
	CLA
	ST COUNTER1
	ST COUNTER2

TRUE_START:
	LD (I)+
	AND DELET_GURBG
	ST CUR_EL
	AND IS_NEG
	BNE MINUS
	JUMP POS
RETURN:
	CALL FUNC
	LOOP LENGHT
	JUMP TRUE_START
	HLT

MINUS:
	LD CUR_EL
	OR EXT_SIGN
	ST CUR_EL
	LD #0xFF
	ST NUM2
	JUMP RETURN

POS:
	CLA
	ST NUM2
	JUMP RETURN


FUNC:
	CLA
	ST TMP_RES
	LD #0xD
	ST CONST_13
MULT_13:
	LD TMP_RES
	ADD CUR_EL
	ST TMP_RES
	LOOP CONST_13
	JUMP MULT_13
	LD TMP_RES
	ADD CONST_1210
	ADD COUNTER1
	ST COUNTER1
	LD NUM2
	ADC COUNTER2
	ST COUNTER2
	LD COUNTER1
	ST (J)+
	LD COUNTER2
	ST (J)+
	CLA
	ST COUNTER1
	ST COUNTER2
	RET


COUNTER1: WORD 0x0000
COUNTER2: WORD 0x0000

CUR_EL: WORD 0x0000
DELET_GURBG: WORD 0x0FFF
EXT_SIGN: WORD 0xF000
IS_NEG: WORD 0x0800
CONST_13: WORD 0x000D
CONST_1210: WORD 0x04BA
CONST_12: WORD 0x000C
TMP_RES: WORD 0x0000
LENGHT: WORD 0x000A
NUM2: WORD 0x0000



J: WORD 0x0400
I: WORD 0x0600
ORG 0x0600
WORD 0x203
WORD 0x8F0
WORD 0xC40
WORD 0x980
WORD 0xD40
WORD 0x1BE
WORD 0xC4C
WORD 0xB51
WORD 0xE7F
WORD 0x682